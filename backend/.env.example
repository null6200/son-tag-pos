# Backend API
PORT=3000
NODE_ENV=production
APP_VERSION=1.0.0

# CORS - comma-separated list of allowed origins
ALLOWED_ORIGINS=https://app.company.com,https://pos.company.com

# Database (unique per deployment/company)
# Connection pool settings prevent "too many connections" under load:
#   connection_limit=20  - max connections in pool (adjust based on your DB plan)
#   pool_timeout=30      - seconds to wait for a connection before erroring
DATABASE_URL=postgresql://USER:PASSWORD@HOST:5432/DB_NAME?schema=public&connection_limit=20&pool_timeout=30

# Auth
JWT_SECRET=change-me-to-a-long-random-secret
JWT_EXPIRES_IN=7d

# Logging
LOG_LEVEL=info  # debug, info, warn, error

# Error Tracking (optional)
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1

# Rate Limiting (requests per minute)
# Default: 60 requests per minute per IP
# Configured in app.module.ts ThrottlerModule

# Backup Configuration
BACKUP_RETENTION_DAYS=30

# Optional: bootstrap a default branch when database is empty
BRANCH_BOOTSTRAP_ENABLED=true
BRANCH_BOOTSTRAP_NAME=Main Branch
BRANCH_BOOTSTRAP_LOCATION=Head Office
